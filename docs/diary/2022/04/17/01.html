<!doctype html>
<html lang="ja">

<head
prefix="og: https://ogp.me/ns# fb: https://ogp.me/ns/fb# article: https://ogp.me/ns/article#">

<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=yes">
<meta property="og:url" content="https://linquanstudio.github.io/linquanstudio/diary/2022/04/17/01.html" />
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@hayashiisme">
<meta name="twitter:creator" content="@hayashiisme">
<meta name="twitter:image" content="https://i.imgur.com/dSD7sBI.png" />
<meta property="og:type" content="article" />
<meta property="og:title" content="自家製CMS進捗 (移動済)" />
<meta property="og:description" content="日記の基本変換手順はできて次は目次" />
<meta property="og:site_name" content="林泉商店" />
<meta property="og:image" content="https://i.imgur.com/dSD7sBI.png" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="日記の基本変換手順はできて次は目次">
<!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->

<title>自家製CMS進捗 (移動済) - 2022-04-17 13:19:00+09:00</title>

<link rel="stylesheet" href="../../../../css/style.css">
<link rel="stylesheet" href="../../../../css/style-diary.css">
<link rel="stylesheet" href="../../../../css/codehilite.css">

</head>

<body>

<div class="header">

    <span class="prev"><a href="https://linquanstudio.github.io/linquanstudio/diary/2022/04/18/01.html">←</a></span>
    <span class="top"><a href="https://linquanstudio.github.io/linquanstudio/diary/index.html">↑</a></span>
    <span class="next"><a href="https://linquanstudio.github.io/linquanstudio/diary/2022/04/16/01.html">→</a></span>
    
        2022-04-17 13:19:00+09:00
        
</div>

<div class="tags">
日記 . 開発
</div>

<div class="title">
<h1><a href="https://linquanstudio.github.io/linquanstudio/diary/2022/04/17/01.html" target="_blank">自家製CMS進捗 (移動済)</a></h1>
<div class="subtitle">日記の基本変換手順はできて次は目次</div>
</div>

<div class="content">
<p>
 <em>
  <a href="../29/01.html" target="_blank">
   移動
  </a>
 </em>
</p>
<!--
markdownのツリーを変換して静的htmlのサイトを自動生成するという自家製CMSプロジェクト。
markdownツリーからひとまずの出力先であるGitHub Pagesへ、の基本の流れができた。

ここで問題になったのは主に2つで、

* 公開/非公開の内容を一元的に管理できる仕組み
* いったんfix|publishした内容を更新した時の管理方法

だった。

## 公開/非公開の内容を一元的に管理

人間ですもの誰だって他人様にお見せしたいものしたくないものはある。

しかし、いろいろ書いたり作ったりしたものを一元的に管理できるのがCMSの便利さなので、
下書き段階も含めてこっちは公開用、こっちは自分だけとかツリーを分けないといけない
とかだったらバカバカし過ぎる。

<div class="imgset">
<img src="01_01.svg" alt="一つの内容ツリーから公開内容のみのサイトツリーと下書き・非公開も含んだサイトツリーを生成する" />
</div>

下書きだって非公開のまま進めるだけでなくて、公開しちゃって書き進めたいこともあるだろうし。

内容それぞれに「公開|非公開」のフラグは必要としても、それはあくまで一つのツリーになってて、
そこから自分だけ見られるサイトツリーと公開用に非公開のサイトツリーを切り替えてさくっと
出力できる、というのでなければならない。

Front matterに"private"のキーを設けて、script実行時にそれによって出力するかどうかを決める
ことにした。

## いったんfix|publishした内容を更新した時の管理方法

Front matterキーに通常は"date"キーがあるが、それだけだといったん作成後変更した時の日付時刻を
入れるところがない。

ので、"date-origin"キーを追加して"date"キーと両方に作成時の日付時刻を入れ、
更新したら"date"の日付時刻を更新することにする。

目次を作るときにはどちらの日付時刻を使うこともできよう。

ということで、やらなければならないことはいろいろあるが、次はひとまず目次づくりを考えよう。

-->

</div>

<div class="footer">

    <span class="prev"><a href="https://linquanstudio.github.io/linquanstudio/diary/2022/04/18/01.html">←</a></span>
    <span class="top"><a href="https://linquanstudio.github.io/linquanstudio/diary/index.html">↑</a></span>
    <span class="next"><a href="https://linquanstudio.github.io/linquanstudio/diary/2022/04/16/01.html">→</a></span>
    
        2022-04-17 13:19:00+09:00
        
</div>

</body>

</html>
